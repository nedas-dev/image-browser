{"version":3,"sources":["components/ImageSearchApp/ImageSearchApp.elements.js","components/ThemesContext/ThemesVisualSelector.elements.js","components/ThemesContext/ThemesContext.js","components/ThemesContext/ThemesVisualSelector.js","data/notfound.gif","components/ImageSearchApp/components/ImagesContainer.js","data/loading.gif","components/ImageSearchApp/ImageSearchApp.js","App.js","index.js"],"names":["SecondaryContainer","styled","div","props","bgColor","Container","SearchInputForm","form","SearchInput","input","SearchIcon","FaSearch","ImagesContainerDiv","ImageWrapper","section","Image","img","InfoAboutImageDiv","LeftSideWrapper","RightSideWrapper","UsernameDiv","LikesDiv","UserProfileImage","HeartLogo","FaHeart","NavWrapper","ThemesContainer","ThemesWrapper","CustomTheme","color","ThemesTitle","ThemesContext","React","createContext","backgroundColor","changeTheme","console","log","ThemesProvider","useState","setBgColor","Provider","value","children","ThemesSelector","useContext","onClick","ImagesContainer","loading","images","length","map","image","index","alt","alt_description","src","urls","regular","className","user","name","likes","href","portfolio_url","profile_image","medium","style","textAlign","margin","width","NotFoundGif","ImageSearchApp","searchInput","setSearchInput","setImages","page","setPage","setLoading","isMore","setIsMore","handleSubmit","e","preventDefault","loadImages","a","query","currentPage","clientId","perPage","url","fetch","response","json","data","status","results","total_pages","prevState","useEffect","stop","setPageFunc","containerHeight","document","querySelector","clientHeight","currentOffSetY","window","pageYOffset","innerHeight","prevPage","setTimeout","addEventListener","removeEventListener","onSubmit","placeholder","onChange","target","ThemesVisualSelector","LoadingGif","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.678facd9.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { FaSearch, FaHeart } from 'react-icons/fa';\n\nexport const SecondaryContainer = styled.div`\nmargin: 0;\npadding: 0;\nbox-sizing: border-box;\nbackground-color: ${(props) => props.bgColor};\nwidth: 100%;\nheight: 100vh;\n`\n\nexport const Container = styled.div`\nmax-width: 1200px;\nmargin: auto;\nwidth: 95%;\n`\n\nexport const SearchInputForm = styled.form`\nmargin-left: 1rem;\nmargin-top: 3rem;\npadding: 5px;\nborder-radius: 5px;\nwidth: 50%;\nmin-width: 200px;\nborder-bottom: 3px solid grey;\npadding-bottom: 0.2rem;\ndisplay: flex;\nflex-direction: row;\nbackground-color: white;\n\n@media screen and (max-width: 550px){\n    width: 85%;\n}\n`\nexport const SearchInput = styled.input`\nwidth: 100%;\nborder: none;\noutline: none;\nfont-size: 1.6rem;\ncolor: grey;\npadding-left: 0.2rem;\n`\n\nexport const SearchIcon = styled(FaSearch)`\nfont-size: 2rem;\ncolor: grey;\ncursor: pointer;\n`\n\nexport const ImagesContainerDiv = styled.div`\ndisplay: flex;\nflex-direction: row;\nflex-wrap: wrap;\nmargin-top: 4rem;\njustify-content: space-between;\n\n@media screen and (max-width: 800px){\n    flex-direction: column;\n    align-items: center;\n}\n`\n\nexport const ImageWrapper = styled.section`\nwidth: 48%;\nheight: 250px;\nmargin-bottom: 2rem;\nposition: relative;\noverflow: hidden;\n@media screen and (max-width: 800px){\n    width: 95%;\n}\n\n@media screen and (min-width: 1200px){\n    width: 32%; \n}\n&:hover{\n    .showInfo{\n        visibility: visible;\n        opacity: 1;\n        transform: translateY(0);\n        }\n}\n`\n\nexport const Image = styled.img`\nwidth: 100%;\nheight: 100%;\nobject-fit: cover;\n`\n\nexport const InfoAboutImageDiv = styled.div`\n    position: absolute;\n    bottom: 0;\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    color: white;\n    background-color: rgba(80,80,80, 0.6);\n    padding: 0.8rem 1.2rem;\n    box-sizing: border-box;\n    align-items: center;\n    font-size: 14px;\n    visibility: hidden;\n    opacity: 0;\n    transition: all 0.3s ease-in;\n    transform: translateY(100%);\n`\n\nexport const LeftSideWrapper = styled.div`\n`\n\nexport const RightSideWrapper = styled.div`\n`\n\nexport const UsernameDiv = styled.div`\nmargin-bottom: 1rem;\nletter-spacing: 1px;\n`\n\nexport const LikesDiv = styled.div``\n\nexport const UserProfileImage = styled.img`\nborder-radius: 50%;\nobject-fit: cover;\nwidth: 40px;\n`\n\nexport const HeartLogo = styled(FaHeart)`\npadding-left: 4px;\nfont-size: 10px;\ncolor: #ff7e7e;\n`\n\nexport const NavWrapper = styled.div`\ndisplay: flex;\njustify-content: space-around;\n@media screen and (max-width: 550px){\n    flex-direction: column;\n}\n`","import styled from 'styled-components';\n\nexport const ThemesContainer = styled.div`\nwidth: 200px;\nmargin: 1rem auto 0rem auto;\nborder: 1px solid #a7a7a7;\npadding: 10px;\nborder-radius: 5px;\nbackground-color: #e9e9e9;\n`\nexport const ThemesWrapper = styled.div`\ndisplay: flex;\nflex-direction: row;\njustify-content: space-around;\n`\n\nexport const CustomTheme = styled.div`\nbackground-color: ${(props) => props.color ? props.color : 'white'};\nborder: 1px solid grey;\nwidth: 20px;\nheight: 20px;\nborder-radius: 50%;\ncursor: pointer;\n`\n\nexport const ThemesTitle = styled.div`\ncolor: #7e7e7e;\nfont-family: Arial, Helvetica, sans-serif;\ntext-align: center;\npadding: 5px 0px 15px 0px;\ntext-transform: uppercase;\nfont-size: 12px;\n`","import React, { useState } from 'react'\n\nexport const ThemesContext = React.createContext({\n    backgroundColor: 'white',\n    changeTheme: () => console.log('default themesContext function')\n})\n\nconst ThemesProvider = (props) => {\n    // eslint-disable-next-line\n    const [bgColor, setBgColor] = useState('white')\n    const changeTheme = (color) => {\n        setBgColor(color)\n    }\n\n    return (\n        <ThemesContext.Provider value={{ bgColor, changeTheme }}>\n            {props.children}\n        </ThemesContext.Provider>\n    )\n}\n\nexport default ThemesProvider\n","import { useContext } from 'react';\n\nimport {\n    ThemesContainer,\n    ThemesWrapper,\n    CustomTheme,\n    ThemesTitle\n} from './ThemesVisualSelector.elements'\n\nimport { ThemesContext } from './ThemesContext';\n\nconst ThemesSelector = () => {\n    const { changeTheme } = useContext(ThemesContext);\n    return (\n        <ThemesContainer>\n            <ThemesTitle>Themes</ThemesTitle>\n            <ThemesWrapper>\n                <CustomTheme color='white' onClick={() => changeTheme('white')} />\n                <CustomTheme color='black' onClick={() => changeTheme('black')} />\n                <CustomTheme color='dodgerblue' onClick={() => changeTheme('dodgerblue')} />\n            </ThemesWrapper>\n        </ThemesContainer>\n    )\n}\n\nexport default ThemesSelector\n","export default __webpack_public_path__ + \"static/media/notfound.7725c6cd.gif\";","import {\n    ImagesContainerDiv,\n    Image,\n    ImageWrapper,\n    InfoAboutImageDiv,\n    LeftSideWrapper,\n    UsernameDiv,\n    LikesDiv,\n    UserProfileImage,\n    RightSideWrapper,\n    HeartLogo\n} from '../ImageSearchApp.elements';\n\nimport NotFoundGif from '../../../data/notfound.gif';\n\nconst ImagesContainer = ({ loading, images }) => {\n    return (\n        <ImagesContainerDiv>\n            {!loading && images.length === 0\n                ? <div style={{ textAlign: 'center', margin: 'auto' }}><img width='120px' alt='not found' src={NotFoundGif}></img></div>\n                : images.map((image, index) => {\n                    return (\n                        <ImageWrapper key={index}>\n                            <Image alt={image.alt_description} src={image.urls.regular}></Image>\n                            <InfoAboutImageDiv className='showInfo'>\n                                <LeftSideWrapper>\n                                    <UsernameDiv>{image.user.name}</UsernameDiv>\n                                    <LikesDiv>{image.likes}<HeartLogo /></LikesDiv>\n                                </LeftSideWrapper>\n                                <RightSideWrapper>\n                                    <a href={image.user.portfolio_url}>\n                                        <UserProfileImage alt='user profile' src={image.user.profile_image.medium}></UserProfileImage>\n                                    </a>\n                                </RightSideWrapper>\n                            </InfoAboutImageDiv>\n                        </ImageWrapper>);\n                })}\n        </ImagesContainerDiv>\n    )\n}\n\nexport default ImagesContainer","export default __webpack_public_path__ + \"static/media/loading.dbb9c561.gif\";","import { useState, useEffect, useContext } from 'react';\n\nimport {\n    SecondaryContainer,\n    Container,\n    SearchInputForm,\n    SearchInput,\n    SearchIcon,\n    NavWrapper\n} from './ImageSearchApp.elements';\n\nimport ThemesVisualSelector from '../ThemesContext/ThemesVisualSelector';\nimport { ThemesContext } from '../ThemesContext/ThemesContext';\n\nimport ImagesContainer from './components/ImagesContainer';\n\nimport LoadingGif from '../../data/loading.gif';\n\nconst accessKey = 'uMhmlOS72hs-AtvM6nadBUVwQeTMUvr0x237_ffbpUA'\nconst allContentUrl = `https://api.unsplash.com/photos`\nconst searchContentUrl = 'https://api.unsplash.com/search/photos/'\n\n// const accessKeyPexels = '563492ad6f917000010000018e12cec5723e48a6a4c9f565300c71b5'\n// const allContentUrl = 'https://api.pexels.com/v1/curated/?page=2&per_page=1'\n\nconst ImageSearchApp = () => {\n    const [searchInput, setSearchInput] = useState('')\n    const [images, setImages] = useState([])\n    const [page, setPage] = useState(1)\n    const [loading, setLoading] = useState(false)\n    const [isMore, setIsMore] = useState(true)\n\n    const onChange = (e) => {\n        if (e.target.name === 'search') {\n            setSearchInput(e.target.value)\n        }\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        setIsMore(true)\n        setPage(() => 1)\n        setImages([])\n        setLoading(true)\n        loadImages()\n    }\n\n    const loadImages = async () => {\n        if (!isMore) {\n            return\n        }\n        setLoading(true)\n        let url\n        const query = `query=${searchInput}`\n        const currentPage = `page=${page}`\n        const clientId = `client_id=${accessKey}`\n        const perPage = 'per_page=10'\n        if (searchInput) {\n            url = `${searchContentUrl}?${query}&${currentPage}&${clientId}&${perPage}`\n        } else {\n            url = `${allContentUrl}?${clientId}&${currentPage}&${perPage}`\n        }\n\n        try {\n            const response = await fetch(url)\n            const data = await response.json()\n            if (response.status >= 400) {\n                setLoading(false)\n                return\n            }\n\n            if (page === 1 && searchInput) {\n                setImages([...data.results])\n            } else if (page === 1 && !searchInput) {\n                setImages((prevState) => [...data])\n            } else if (searchInput) {\n                if (data.total_pages < page) {\n                    setIsMore(false)\n                } else {\n                    setImages((prevState) => [...prevState, ...data.results])\n                }\n            } else {\n                setImages((prevState) => [...prevState, ...data])\n            }\n        } catch (error) {\n            console.log(error)\n        }\n\n        setLoading(false)\n\n    }\n\n    useEffect(() => {\n        loadImages()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [page])\n\n    // Timer for loading more images after specific time (so you couldn't trigger setPage too many times too fast)\n    let stop = false\n    const restartTimerForLoadingImages = () => {\n        stop = true\n        setTimeout(() => stop = false, 500)\n    }\n\n    useEffect(() => {\n        function setPageFunc() {\n            let containerHeight = document.querySelector('.mainContainer').clientHeight\n            const currentOffSetY = window.pageYOffset\n            if (!stop && containerHeight && containerHeight <= currentOffSetY + window.innerHeight + 30) {\n                setPage((prevPage) => {\n                    restartTimerForLoadingImages()\n                    return prevPage + 1\n                })\n            }\n        }\n\n        document.addEventListener('scroll', setPageFunc)\n\n        return () => document.removeEventListener('scroll', setPageFunc)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const { bgColor } = useContext(ThemesContext);\n\n    return (\n        <div>\n            <SecondaryContainer bgColor={bgColor}>\n                <Container className='mainContainer'>\n                    <NavWrapper>\n                        <SearchInputForm onSubmit={handleSubmit}>\n                            <SearchInput name='search' value={searchInput} placeholder='Search' onChange={onChange} />\n                            <SearchIcon onClick={handleSubmit} />\n                        </SearchInputForm>\n                        <ThemesVisualSelector />\n                    </NavWrapper>\n                    <ImagesContainer loading={loading} images={images}>\n                    </ImagesContainer>\n                    {loading && <div style={{ textAlign: 'center', margin: 'auto' }}><img alt='loading' src={LoadingGif}></img></div>}\n                </Container>\n            </SecondaryContainer>\n        </div>\n    )\n}\n\nexport default ImageSearchApp;\n","import ImageSearchApp from './components/ImageSearchApp/ImageSearchApp';\nimport ThemesProvider from './components/ThemesContext/ThemesContext';\n\nfunction App(props) {\n    return (\n        <ThemesProvider>\n            <ImageSearchApp />\n        </ThemesProvider>\n    )\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}