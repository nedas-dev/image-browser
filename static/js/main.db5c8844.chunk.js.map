{"version":3,"sources":["components/ImageSearchApp/ImageSearchApp.elements.js","data/loading.gif","data/notfound.gif","components/ImageSearchApp/ImageSearchApp.js","App.js","index.js"],"names":["SecondaryContainer","styled","div","Container","SearchInputForm","form","SearchInput","input","SearchIcon","FaSearch","ImagesContainer","ImageWrapper","section","Image","img","InfoAboutImageDiv","LeftSideWrapper","RightSideWrapper","UsernameDiv","LikesDiv","UserProfileImage","HeartLogo","FaHeart","ImageSearchApp","useState","searchInput","setSearchInput","images","setImages","page","setPage","loading","setLoading","isMore","setIsMore","handleSubmit","e","preventDefault","loadImages","a","query","currentPage","clientId","url","fetch","response","json","data","status","results","total_pages","prevState","console","log","useEffect","setPageFunc","containerHeight","document","querySelector","clientHeight","currentOffSetY","window","pageYOffset","innerHeight","addEventListener","removeEventListener","className","onSubmit","name","value","placeholder","onChange","target","onClick","length","map","image","index","alt","alt_description","src","urls","regular","user","likes","href","portfolio_url","profile_image","medium","style","textAlign","margin","width","NotFoundGif","LoadingGif","App","props","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.db5c8844.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { FaSearch, FaHeart } from 'react-icons/fa';\n\nexport const SecondaryContainer = styled.div`\nmargin: 0;\npadding: 0;\nbox-sizing: border-box;\nbackground-color: #fff;\nwidth: 100%;\n`\n\nexport const Container = styled.div`\nmax-width: 1200px;\nmargin: auto;\nwidth: 95%;\n`\n\nexport const SearchInputForm = styled.form`\nmargin-left: 1rem;\npadding-top: 3rem;\nwidth: 50%;\nmin-width: 200px;\nborder-bottom: 3px solid grey;\npadding-bottom: 0.2rem;\ndisplay: flex;\nflex-direction: row;\n\n@media screen and (max-width: 550px){\n    width: 85%;\n}\n`\nexport const SearchInput = styled.input`\nwidth: 100%;\nborder: none;\noutline: none;\nfont-size: 1.6rem;\ncolor: grey;\npadding-left: 0.2rem;\n`\n\nexport const SearchIcon = styled(FaSearch)`\nfont-size: 2rem;\ncolor: grey;\ncursor: pointer;\n`\n\nexport const ImagesContainer = styled.div`\ndisplay: flex;\nflex-direction: row;\nflex-wrap: wrap;\nmargin-top: 4rem;\njustify-content: space-between;\n\n@media screen and (max-width: 800px){\n    flex-direction: column;\n    align-items: center;\n}\n`\n\nexport const ImageWrapper = styled.section`\nwidth: 48%;\nheight: 250px;\nmargin-bottom: 2rem;\nposition: relative;\noverflow: hidden;\n@media screen and (max-width: 800px){\n    width: 95%;\n}\n\n@media screen and (min-width: 1200px){\n    width: 32%; \n}\n&:hover{\n    .showInfo{\n        visibility: visible;\n        opacity: 1;\n        transform: translateY(0);\n        }\n}\n`\n\nexport const Image = styled.img`\nwidth: 100%;\nheight: 100%;\nobject-fit: cover;\n`\n\nexport const InfoAboutImageDiv = styled.div`\n    position: absolute;\n    bottom: 0;\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    color: white;\n    background-color: rgba(80,80,80, 0.6);\n    padding: 0.8rem 1.2rem;\n    box-sizing: border-box;\n    align-items: center;\n    font-size: 14px;\n    visibility: hidden;\n    opacity: 0;\n    transition: all 0.3s ease-in;\n    transform: translateY(100%);\n`\n\nexport const LeftSideWrapper = styled.div`\n`\n\nexport const RightSideWrapper = styled.div`\n`\n\nexport const UsernameDiv = styled.div`\nmargin-bottom: 1rem;\nletter-spacing: 1px;\n`\n\nexport const LikesDiv = styled.div``\n\nexport const UserProfileImage = styled.img`\nborder-radius: 50%;\nobject-fit: cover;\nwidth: 40px;\n`\n\nexport const HeartLogo = styled(FaHeart)`\npadding-left: 4px;\nfont-size: 10px;\ncolor: #ff7e7e;\n`","export default __webpack_public_path__ + \"static/media/loading.dbb9c561.gif\";","export default __webpack_public_path__ + \"static/media/notfound.7725c6cd.gif\";","import { useState, useEffect } from 'react';\n\nimport {\n    SecondaryContainer,\n    Container,\n    SearchInputForm,\n    SearchInput,\n    SearchIcon,\n    ImagesContainer,\n    Image,\n    ImageWrapper,\n    InfoAboutImageDiv,\n    LeftSideWrapper,\n    UsernameDiv,\n    LikesDiv,\n    UserProfileImage,\n    RightSideWrapper,\n    HeartLogo\n} from './ImageSearchApp.elements';\n\nimport LoadingGif from '../../data/loading.gif';\nimport NotFoundGif from '../../data/notfound.gif';\n\nconst accessKey = 'uMhmlOS72hs-AtvM6nadBUVwQeTMUvr0x237_ffbpUA'\nconst allContentUrl = `https://api.unsplash.com/photos`\nconst searchContentUrl = 'https://api.unsplash.com/search/photos/'\n\n// const accessKeyPexels = '563492ad6f917000010000018e12cec5723e48a6a4c9f565300c71b5'\n// const allContentUrl = 'https://api.pexels.com/v1/curated/?page=2&per_page=1'\n\nconst ImageSearchApp = () => {\n    const [searchInput, setSearchInput] = useState('')\n    const [images, setImages] = useState([])\n    const [page, setPage] = useState(1)\n    const [loading, setLoading] = useState(false)\n    const [isMore, setIsMore] = useState(true)\n\n    const onChange = (e) => {\n        if (e.target.name === 'search') {\n            setSearchInput(e.target.value)\n        }\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        setIsMore(true)\n        if (page === 1) {\n            loadImages()\n        }\n        setPage(() => 1)\n        setImages([])\n        setLoading(true)\n    }\n\n    const loadImages = async () => {\n        if (!isMore) {\n            return\n        }\n        setLoading(true)\n        let url\n        const query = `query=${searchInput}`\n        const currentPage = `page=${page}`\n        const clientId = `client_id=${accessKey}`\n\n        if (searchInput) {\n            url = `${searchContentUrl}?${query}&${currentPage}&${clientId}`\n        } else {\n            url = `${allContentUrl}?${clientId}&${currentPage}`\n        }\n\n        try {\n            const response = await fetch(url)\n            const data = await response.json()\n            if (response.status >= 400) {\n                setLoading(false)\n                return\n            }\n\n            if (page === 1 && searchInput) {\n                setImages([...data.results])\n            } else if (page === 1 && !searchInput) {\n                setImages((prevState) => [...data])\n            } else if (searchInput) {\n                if (data.total_pages < page) {\n                    setIsMore(false)\n                } else {\n                    setImages((prevState) => [...prevState, ...data.results])\n                }\n            } else {\n                setImages((prevState) => [...prevState, ...data])\n            }\n        } catch (error) {\n            console.log(error)\n        }\n\n        setLoading(false)\n\n    }\n\n    useEffect(() => {\n        loadImages()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [page])\n\n    useEffect(() => {\n        const setPageFunc = (e) => {\n            let containerHeight = document.querySelector('.mainContainer').clientHeight\n            const currentOffSetY = window.pageYOffset\n\n            if (containerHeight && containerHeight <= currentOffSetY + window.innerHeight + 30) {\n                if (!loading) {\n                    setPage((prevState) => prevState + 1)\n                    setLoading(true)\n                }\n            }\n        }\n\n        document.addEventListener('scroll', () => setPageFunc())\n\n        return document.removeEventListener('scroll', () => setPageFunc())\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n\n    return (\n        <div>\n            <SecondaryContainer>\n                <Container className='mainContainer'>\n                    <SearchInputForm onSubmit={handleSubmit}>\n                        <SearchInput name='search' value={searchInput} placeholder='Search' onChange={onChange} />\n                        <SearchIcon onClick={handleSubmit} />\n                    </SearchInputForm>\n                    <ImagesContainer>\n                        {!loading && images.length === 0\n                            ? <div style={{ textAlign: 'center', margin: 'auto' }}><img width='120px' alt='not found' src={NotFoundGif}></img></div>\n                            : images.map((image, index) => {\n                                return (\n                                    <ImageWrapper key={index}>\n                                        <Image alt={image.alt_description} src={image.urls.regular}></Image>\n                                        <InfoAboutImageDiv className='showInfo'>\n                                            <LeftSideWrapper>\n                                                <UsernameDiv>{image.user.name}</UsernameDiv>\n                                                <LikesDiv>{image.likes}<HeartLogo /></LikesDiv>\n                                            </LeftSideWrapper>\n                                            <RightSideWrapper>\n                                                <a href={image.user.portfolio_url}>\n                                                    <UserProfileImage alt='user profile' src={image.user.profile_image.medium}></UserProfileImage>\n                                                </a>\n                                            </RightSideWrapper>\n                                        </InfoAboutImageDiv>\n                                    </ImageWrapper>)\n                            })}\n                    </ImagesContainer>\n                    {loading && <div style={{ textAlign: 'center', margin: 'auto' }}><img alt='loading' src={LoadingGif}></img></div>}\n                </Container>\n            </SecondaryContainer>\n        </div>\n    )\n}\n\nexport default ImageSearchApp;\n","import ImageSearchApp from './components/ImageSearchApp/ImageSearchApp';\n\nfunction App(props) {\n    return (\n        <ImageSearchApp />\n    )\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}